import{_ as a,c as n,b as l,o}from"./chunks/framework.B1z0IdBH.js";const y=JSON.parse('{"title":"promptfoo","description":"","frontmatter":{},"headers":[{"level":2,"title":"安装设置","slug":"安装设置","link":"#安装设置","children":[]},{"level":2,"title":"快速开始","slug":"快速开始","link":"#快速开始","children":[]},{"level":2,"title":"示例项目","slug":"示例项目","link":"#示例项目","children":[]},{"level":2,"title":"资源","slug":"资源","link":"#资源","children":[]}],"relativePath":"guide/promptfoo/README_cn.md","filePath":"guide/promptfoo/README_cn.md"}'),p={name:"guide/promptfoo/README_cn.md"};function e(t,s,r,c,i,E){return o(),n("div",null,s[0]||(s[0]=[l(`<h1 id="promptfoo" tabindex="-1">promptfoo <a class="header-anchor" href="#promptfoo" aria-label="Permalink to &quot;promptfoo&quot;">​</a></h1><p><a href="https://promptfoo.dev" target="_blank" rel="noreferrer">promptfoo</a> 是一个开源框架，用于测试和评估 LLM 输出。它可以帮助您将 DeepSeek 模型与其他 LLM（如 o1、GPT-4o、Claude 3.5、Llama 3.3 和 Gemini）进行比较，并测试 LLM 及其应用的安全漏洞。您可以：</p><ul><li>对不同模型进行并排比较</li><li>检查输出质量和一致性</li><li>生成测试报告</li></ul><h2 id="安装设置" tabindex="-1">安装设置 <a class="header-anchor" href="#安装设置" aria-label="Permalink to &quot;安装设置&quot;">​</a></h2><ol><li>安装 promptfoo：</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">npm</span><span style="color:#9ECBFF;"> install</span><span style="color:#79B8FF;"> -g</span><span style="color:#9ECBFF;"> promptfoo</span></span>
<span class="line"><span style="color:#6A737D;"># 或者使用 brew</span></span>
<span class="line"><span style="color:#B392F0;">brew</span><span style="color:#9ECBFF;"> install</span><span style="color:#9ECBFF;"> promptfoo</span></span></code></pre></div><ol start="2"><li>配置 API 密钥：</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> DEEPSEEK_API_KEY</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">your_api_key</span></span>
<span class="line"><span style="color:#6A737D;"># 根据需要添加其他 API 密钥</span></span></code></pre></div><h2 id="快速开始" tabindex="-1">快速开始 <a class="header-anchor" href="#快速开始" aria-label="Permalink to &quot;快速开始&quot;">​</a></h2><p>创建配置文件 <code>promptfooconfig.yaml</code>：</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#85E89D;">providers</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">  - </span><span style="color:#9ECBFF;">deepseek:deepseek-reasoner</span><span style="color:#6A737D;"> # DeepSeek-R1</span></span>
<span class="line"><span style="color:#E1E4E8;">  - </span><span style="color:#9ECBFF;">openai:o1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#85E89D;">prompts</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">  - </span><span style="color:#9ECBFF;">&#39;请逐步解决这个问题：{{math_problem}}&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#85E89D;">tests</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">  - </span><span style="color:#85E89D;">vars</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">      math_problem</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;求 x^3 + 2x 对 x 的导数&#39;</span></span>
<span class="line"><span style="color:#85E89D;">    assert</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">      - </span><span style="color:#85E89D;">type</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">contains</span></span>
<span class="line"><span style="color:#85E89D;">        value</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;3x^2&#39;</span><span style="color:#6A737D;"> # 检查正确答案</span></span>
<span class="line"><span style="color:#E1E4E8;">      - </span><span style="color:#85E89D;">type</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">llm-rubric</span></span>
<span class="line"><span style="color:#85E89D;">        value</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;回答需要展示清晰的步骤&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">      - </span><span style="color:#85E89D;">type</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">cost</span></span>
<span class="line"><span style="color:#85E89D;">        threshold</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">0.05</span><span style="color:#6A737D;"> # 每次请求的最大成本</span></span></code></pre></div><p>运行测试：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">promptfoo</span><span style="color:#9ECBFF;"> eval</span></span></code></pre></div><p>在浏览器中查看结果：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">promptfoo</span><span style="color:#9ECBFF;"> view</span></span></code></pre></div><h2 id="示例项目" tabindex="-1">示例项目 <a class="header-anchor" href="#示例项目" aria-label="Permalink to &quot;示例项目&quot;">​</a></h2><p>查看我们的<a href="https://github.com/promptfoo/promptfoo/tree/main/examples/deepseek-r1-vs-openai-o1" target="_blank" rel="noreferrer">示例</a>，展示了 r1 和 o1 在 MMLU 上的比较。</p><h2 id="资源" tabindex="-1">资源 <a class="header-anchor" href="#资源" aria-label="Permalink to &quot;资源&quot;">​</a></h2><ul><li><a href="https://promptfoo.dev/docs/providers/deepseek" target="_blank" rel="noreferrer">文档</a></li><li><a href="https://github.com/promptfoo/promptfoo" target="_blank" rel="noreferrer">GitHub 仓库</a></li><li><a href="https://discord.gg/promptfoo" target="_blank" rel="noreferrer">社区 Discord</a></li></ul>`,19)]))}const h=a(p,[["render",e]]);export{y as __pageData,h as default};
